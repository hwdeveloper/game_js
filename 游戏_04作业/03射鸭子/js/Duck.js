function Duck() {
    var duck1=['./imgs/duck1/duck_1_01.gif','./imgs/duck1/duck_1_02.gif'
        ,'./imgs/duck1/duck_1_03.gif','./imgs/duck1/duck_1_04.gif'
        ,'./imgs/duck1/duck_1_05.gif','./imgs/duck1/duck_1_06.gif'
        ,'./imgs/duck1/duck_1_07.gif','./imgs/duck1/duck_1_08.gif'
        ,'./imgs/duck1/duck_1_09.gif','./imgs/duck1/duck_1_10.gif'
        ,'./imgs/duck1/duck_1_11.gif','./imgs/duck1/duck_1_12.gif'
        ,'./imgs/duck1/duck_1_13.gif','./imgs/duck1/duck_1_14.gif'
        ,'./imgs/duck1/duck_1_15.gif','./imgs/duck1/duck_1_16.gif'
        ,'./imgs/duck1/duck_1_17.gif','./imgs/duck1/duck_1_18.gif'
        ,'./imgs/duck1/duck_1_19.gif','./imgs/duck1/duck_1_20.gif'
        ,'./imgs/duck1/duck_1_21.gif','./imgs/duck1/duck_1_22.gif'
        ,'./imgs/duck1/duck_1_23.gif','./imgs/duck1/duck_1_24.gif'
        ,'./imgs/duck1/duck_1_25.gif','./imgs/duck1/duck_1_26.gif'
        ,'./imgs/duck1/duck_1_27.gif','./imgs/duck1/duck_1_28.gif'
        ,'./imgs/duck1/duck_1_29.gif','./imgs/duck1/duck_1_30.gif'
        ,'./imgs/duck1/duck_1_31.gif','./imgs/duck1/duck_1_32.gif'
        ,'./imgs/duck1/duck_1_33.gif','./imgs/duck1/duck_1_34.gif'
        ,'./imgs/duck1/duck_1_35.gif','./imgs/duck1/duck_1_36.gif'
        ,'./imgs/duck1/duck_1_37.gif','./imgs/duck1/duck_1_38.gif'
        ,'./imgs/duck1/duck_1_39.gif','./imgs/duck1/duck_1_40.gif'
        ,'./imgs/duck1/duck_1_41.gif','./imgs/duck1/duck_1_42.gif'
        ,'./imgs/duck1/duck_1_43.gif','./imgs/duck1/duck_1_44.gif'
        ,'./imgs/duck1/duck_1_45.gif'];
    var duck2=['./imgs/duck2/duck_2_01.gif','./imgs/duck2/duck_2_02.gif'
        ,'./imgs/duck2/duck_2_03.gif','./imgs/duck2/duck_2_04.gif'
        ,'./imgs/duck2/duck_2_05.gif','./imgs/duck2/duck_2_06.gif'
        ,'./imgs/duck2/duck_2_07.gif','./imgs/duck2/duck_2_08.gif'
        ,'./imgs/duck2/duck_2_09.gif','./imgs/duck2/duck_2_10.gif'
        ,'./imgs/duck2/duck_2_11.gif','./imgs/duck2/duck_2_12.gif'
        ,'./imgs/duck2/duck_2_13.gif','./imgs/duck2/duck_2_14.gif'
        ,'./imgs/duck2/duck_2_15.gif','./imgs/duck2/duck_2_16.gif'
        ,'./imgs/duck2/duck_2_17.gif','./imgs/duck2/duck_2_18.gif'
        ,'./imgs/duck2/duck_2_19.gif','./imgs/duck2/duck_2_20.gif'
        ,'./imgs/duck2/duck_2_21.gif','./imgs/duck2/duck_2_22.gif'
        ,'./imgs/duck2/duck_2_23.gif','./imgs/duck2/duck_2_24.gif'
        ,'./imgs/duck2/duck_2_25.gif','./imgs/duck2/duck_2_26.gif'
        ,'./imgs/duck2/duck_2_27.gif','./imgs/duck2/duck_2_28.gif'
        ,'./imgs/duck2/duck_2_29.gif','./imgs/duck2/duck_2_30.gif'
        ,'./imgs/duck2/duck_2_31.gif','./imgs/duck2/duck_2_32.gif'
        ,'./imgs/duck2/duck_2_33.gif','./imgs/duck2/duck_2_34.gif'
        ,'./imgs/duck2/duck_2_35.gif','./imgs/duck2/duck_2_36.gif'
        ,'./imgs/duck2/duck_2_37.gif','./imgs/duck2/duck_2_38.gif'
        ,'./imgs/duck2/duck_2_39.gif','./imgs/duck2/duck_2_40.gif'
        ,'./imgs/duck2/duck_2_41.gif','./imgs/duck2/duck_2_42.gif'
        ,'./imgs/duck2/duck_2_43.gif','./imgs/duck2/duck_2_44.gif'
        ,'./imgs/duck2/duck_2_45.gif'];
    var duck3=['./imgs/duck3/duck_3_01.gif','./imgs/duck3/duck_3_02.gif'
        ,'./imgs/duck3/duck_3_03.gif','./imgs/duck3/duck_3_04.gif'
        ,'./imgs/duck3/duck_3_05.gif','./imgs/duck3/duck_3_06.gif'
        ,'./imgs/duck3/duck_3_07.gif','./imgs/duck3/duck_3_08.gif'
        ,'./imgs/duck3/duck_3_09.gif','./imgs/duck3/duck_3_10.gif'
        ,'./imgs/duck3/duck_3_11.gif','./imgs/duck3/duck_3_12.gif'
        ,'./imgs/duck3/duck_3_13.gif','./imgs/duck3/duck_3_14.gif'
        ,'./imgs/duck3/duck_3_15.gif','./imgs/duck3/duck_3_16.gif'
        ,'./imgs/duck3/duck_3_17.gif','./imgs/duck3/duck_3_18.gif'
        ,'./imgs/duck3/duck_3_19.gif','./imgs/duck3/duck_3_20.gif'
        ,'./imgs/duck3/duck_3_21.gif','./imgs/duck3/duck_3_22.gif'
        ,'./imgs/duck3/duck_3_23.gif','./imgs/duck3/duck_3_24.gif'
        ,'./imgs/duck3/duck_3_25.gif','./imgs/duck3/duck_3_26.gif'
        ,'./imgs/duck3/duck_3_27.gif','./imgs/duck3/duck_3_28.gif'
        ,'./imgs/duck3/duck_3_29.gif','./imgs/duck3/duck_3_30.gif'
        ,'./imgs/duck3/duck_3_31.gif','./imgs/duck3/duck_3_32.gif'
        ,'./imgs/duck3/duck_3_33.gif','./imgs/duck3/duck_3_34.gif'
        ,'./imgs/duck3/duck_3_35.gif','./imgs/duck3/duck_3_36.gif'
        ,'./imgs/duck3/duck_3_37.gif','./imgs/duck3/duck_3_38.gif'
        ,'./imgs/duck3/duck_3_39.gif','./imgs/duck3/duck_3_40.gif'
        ,'./imgs/duck3/duck_3_41.gif','./imgs/duck3/duck_3_42.gif'
        ,'./imgs/duck3/duck_3_43.gif','./imgs/duck3/duck_3_44.gif'
        ,'./imgs/duck3/duck_3_45.gif'];
    var duck4=['./imgs/duck4/duck_4_01.gif','./imgs/duck4/duck_4_02.gif'
        ,'./imgs/duck4/duck_4_03.gif','./imgs/duck4/duck_4_04.gif'
        ,'./imgs/duck4/duck_4_05.gif','./imgs/duck4/duck_4_06.gif'
        ,'./imgs/duck4/duck_4_07.gif','./imgs/duck4/duck_4_08.gif'
        ,'./imgs/duck4/duck_4_09.gif','./imgs/duck4/duck_4_10.gif'
        ,'./imgs/duck4/duck_4_11.gif','./imgs/duck4/duck_4_12.gif'
        ,'./imgs/duck4/duck_4_13.gif','./imgs/duck4/duck_4_14.gif'
        ,'./imgs/duck4/duck_4_15.gif','./imgs/duck4/duck_4_16.gif'
        ,'./imgs/duck4/duck_4_17.gif','./imgs/duck4/duck_4_18.gif'
        ,'./imgs/duck4/duck_4_19.gif','./imgs/duck4/duck_4_20.gif'
        ,'./imgs/duck4/duck_4_21.gif','./imgs/duck4/duck_4_22.gif'
        ,'./imgs/duck4/duck_4_23.gif','./imgs/duck4/duck_4_24.gif'
        ,'./imgs/duck4/duck_4_25.gif','./imgs/duck4/duck_4_26.gif'
        ,'./imgs/duck4/duck_4_27.gif','./imgs/duck4/duck_4_28.gif'
        ,'./imgs/duck4/duck_4_29.gif','./imgs/duck4/duck_4_30.gif'
        ,'./imgs/duck4/duck_4_31.gif','./imgs/duck4/duck_4_32.gif'
        ,'./imgs/duck4/duck_4_33.gif','./imgs/duck4/duck_4_34.gif'
        ,'./imgs/duck4/duck_4_35.gif','./imgs/duck4/duck_4_36.gif'
        ,'./imgs/duck4/duck_4_37.gif','./imgs/duck4/duck_4_38.gif'
        ,'./imgs/duck4/duck_4_39.gif','./imgs/duck4/duck_4_40.gif'
        ,'./imgs/duck4/duck_4_41.gif','./imgs/duck4/duck_4_42.gif'
        ,'./imgs/duck4/duck_4_43.gif','./imgs/duck4/duck_4_44.gif'
        ,'./imgs/duck4/duck_4_45.gif'];

    var ducks;
    var duck1Box=[];
    var duck2Box=[];
    var duck3Box=[];
    var duck4Box=[];
    this.direction;
    var grass;
    this.init=function () {
        this.direction=Math.floor(Math.random()*2);
        for(var i=0;i<=duck1.length;i++){
            var duck=new Image();
            duck.src=duck1[i];
            duck1Box.push(duck);
        }
        for(var i=0;i<=duck2.length;i++){
            var duck=new Image();


            duck.src=duck2[i];
            duck2Box.push(duck);
        }
        for(var i=0;i<=duck3.length;i++){
            var duck=new Image();


            duck.src=duck3[i];
            duck3Box.push(duck);
        }
        for(var i=0;i<=duck4.length;i++){
            var duck=new Image();


            duck.src=duck4[i];
            duck4Box.push(duck);
        }
        grass=new Image();
        grass.src='./imgs/grass.png';
        speedX=1+Math.floor(Math.random()*6);
        speedY=1+Math.floor(Math.random()*6);

        this.changeDuck();
        this.reposition();

    }
    //改变鸭子类型
    var type;
    this.changeDuck=function () {
        type=Math.floor(Math.random()*4);
        if(type==0)
            ducks=duck1;
        else if(type==1)
            ducks=duck2;
        else if(type==3)
            ducks=duck3;
        else
            ducks=duck4;

    }
    //变换鸭子的位置
    var duckX;
    var duckY;
    var speedX;
    var speedY;
    //鸭子回到起始位置
    this.reposition=function () {
        duckY=400;
        duckX=250+Math.floor(Math.random()*500);
    }
    //鸭子飞起来的位置改变
    this.setposition=function () {
        duckY=duckY-speedY;
        duckX=duckX-speedX;
        if(duckY<=-200||duckX<=-200){
            this.reposition();
            this.init();
        }

    }
    var width=200;
    var height=200;
    //判断鸭子是否被打中
    var x;
    var y;
    this.shot=function (bufferx,buffery) {
        x=bufferx;
        y=buffery;
        if(bufferx>duckX&&bufferx<duckX+width&&buffery>duckY&&buffery<duckY+height){
            state=DUCK_DOWN;
        }
    }
    //鸭子被打中改变位置
    this.cryposition=function (x,y) {
        duckY=y;
        duckX=x;
    }
    var DUCK_NORMAL=0;
    var DUCK_DOWN=DUCK_NORMAL+1;
    var state=DUCK_NORMAL;
    var index=-1;
    var downindex=8;

    this.run=function (paint) {
        switch(state){
            case DUCK_NORMAL:
                if(type==0){
                    this.setposition();
                    index++;
                    if(index>=8){
                        index=0;
                    }
                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck1Box[index],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }else  if(type==1){
                    this.setposition();
                    index++;
                    if(index>=8){
                        index=0;
                    }
                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck2Box[index],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }else  if(type==2){
                    this.setposition();
                    index++;
                    if(index>=8){
                        index=0;
                    }
                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck3Box[index],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }else {
                    this.setposition();
                    index++;
                    if(index>=8){
                        index=0;
                    }
                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck4Box[index],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }
                break;


            case DUCK_DOWN:

                if(type==0){
                    downindex++;
                    duckY+=9;
                    if(duckY>=800){
                        this.reposition();
                        state=DUCK_NORMAL;
                    }
                    if(downindex<16){
                        this.cryposition(x,y);
                    }
                    if(downindex>=16){

                    }
                    if(downindex>=41){
                        downindex=16;
                    }
                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck1Box[downindex],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }else  if(type==1){

                    downindex++;
                    duckY+=9;
                    if(duckY>=800){
                        this.reposition();
                        state=DUCK_NORMAL;
                    }
                    if(downindex<16){
                        this.cryposition(x,y);
                    }
                    if(downindex>=16){
                        console.log(duckY);
                    }
                    if(downindex>=41){
                        downindex=16;
                    }
                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck2Box[downindex],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }else  if(type==2){

                    downindex++;
                    duckY+=9;
                    if(duckY>=800){
                        this.reposition();
                        state=DUCK_NORMAL;
                    }
                    if(downindex<16){
                        this.cryposition(x,y);
                    }
                    if(downindex>=16){
                        console.log(duckY);
                    }
                    if(downindex>=41){
                        downindex=16;

                    }
                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck3Box[downindex],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }else {
                    downindex++;
                    duckY+=9;
                    if(duckY>=800){
                        this.reposition();
                        state=DUCK_NORMAL;
                    }
                    if(downindex<16){
                        this.cryposition(x,y);
                    }
                    if(downindex>=16){
                    }
                    if(downindex>=41){
                        downindex=16;

                    }

                    // if(this.direction==0){
                    //     speedX=-speedX;
                    //     paint.rotate(180);
                    // }
                    paint.drawImage(duck4Box[downindex],duckX,duckY,width,height);
                    paint.drawImage(grass,0,385);
                }
                break;
        }

    }

}